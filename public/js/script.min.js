(function(c,a,d){d(function(){d("#dir-create").doOnce(e.init);d("#fileupload").doOnce(b.init);d(".alert").doOnce(f.init)});var b={init:function(g){b.config={uploadInput:d("#fileupload"),fileList:d("#list-filesystem")};d.extend(b.config,g);b.setup()},setup:function(){b.config.uploadInput.fileupload({dataType:"json",done:function(h,g){d.each(g.result.files,function(i,j){d("<li/>").text(j.name).appendTo(b.config.fileList)})},progressall:function(i,h){var g=parseInt(h.loaded/h.total*100,10);d("#progress .bar").css("width",g+"%")}})}};var e={init:function(g){e.config={form:d("#form-dir-create"),inputDirName:d("#form-dir-create-name"),groupFile:d("#list-filesystem"),button:d("#dir-create")};d.extend(e.config,g);e.setup()},setup:function(){e.config.button.on("click",function(g){g.preventDefault();e.showForm();e.config.form.on("click","#form-dir-create-submit",e.submitAction)});e.config.form.on("click","a",function(g){g.preventDefault();e.hideForm()})},submitAction:function(g){g.preventDefault();var h=e.sendAction();h.done(function(i){console.log(i);if(i.status){e.hideForm()}else{e.config.form.find(".error").html("ERROR: not create !")}});h.fail(function(i){e.config.form.find(".error").html("ERROR: not create !")})},sendAction:function(){return d.post(e.config.form.attr("action"),e.config.form.serialize())},showForm:function(){e.config.form.show()},hideForm:function(){e.config.form.hide();e.config.inputDirName.val("");e.config.form.find(".error").html("")}};var f={init:function(){f.config={box:d(".alert")};f.setup()},setup:function(){f.config.box.on("click","a",function(g){g.preventDefault();d(this).parent().hide(200)})}}}(window,document,window.jQuery));jQuery.fn.doOnce=function(a){this.length&&a.apply(this);return this};